/* =========================================================
   要件⑤: テキストのリビールアニメーション - 下から上に統一
   サイト全体で「下から上にスライドしながら不透明になる」リビールに統一
   アニメーション時間: 0.6s、イージング: cubic-bezier(0.4, 0, 0.2, 1)
   行ごとに0.04sずつ遅延
   ========================================================= */
:root {
  --rs-reveal-duration: 0.6s;
  --rs-reveal-delay: 0.04s;
  --rs-reveal-ease: cubic-bezier(0.4, 0, 0.2, 1);
  --rs-reveal-shift-y: 10px; /* 要件⑤: 下に10pxずれている状態 */
}

/* 初期状態：JavaScriptが読み込まれる前は通常表示 */
.rs-reveal[data-reveal] {
  opacity: 1 !important;
  transform: translateY(0) !important;
  will-change: opacity, transform, clip-path, mask-position, mask-size;
}

/* JavaScript適用後の初期状態：不可視（下から上にスライド） */
.rs-reveal.rs-reveal.rs-reveal[data-reveal] {
  opacity: 0 !important;
  transform: translateY(var(--rs-reveal-shift-y)) !important;
}

/* "見える"状態：下から上にスライドしながら不透明になる */
.rs-reveal.is-visible[data-reveal] {
  opacity: 1 !important;
  transform: translateY(0) !important;
  transition:
    opacity var(--rs-reveal-duration) var(--rs-reveal-ease),
    transform var(--rs-reveal-duration) var(--rs-reveal-ease) !important;
}

/* =========================================================
   統一リビールアニメーション: 下→上方向にスライドしながら不透明になる
   ========================================================= */

/* 基本リビール: 下→上方向（デフォルト） */
.rs-reveal[data-reveal],
.rs-reveal[data-reveal="up"] {
  opacity: 0 !important;
  transform: translateY(var(--rs-reveal-shift-y)) !important;
  transition:
    opacity var(--rs-reveal-duration) var(--rs-reveal-ease),
    transform var(--rs-reveal-duration) var(--rs-reveal-ease) !important;
}

.rs-reveal.is-visible[data-reveal],
.rs-reveal.is-visible[data-reveal="up"] {
  opacity: 1 !important;
  transform: translateY(0) !important;
}

/* Wipe（下→上）: マスクで下から上に表示 */
.rs-reveal[data-reveal="wipe"] {
  -webkit-mask-image: linear-gradient(#000 0 0) !important;
          mask-image: linear-gradient(#000 0 0) !important;
  -webkit-mask-size: 100% 0% !important;
          mask-size: 100% 0% !important;
  -webkit-mask-repeat: no-repeat !important;
          mask-repeat: no-repeat !important;
  -webkit-mask-position: bottom center !important;
          mask-position: bottom center !important;
  opacity: 0 !important;
  transform: translateY(var(--rs-reveal-shift-y)) !important;
  transition: 
    -webkit-mask-size var(--rs-reveal-duration) var(--rs-reveal-ease),
    mask-size var(--rs-reveal-duration) var(--rs-reveal-ease),
    opacity var(--rs-reveal-duration) var(--rs-reveal-ease),
    transform var(--rs-reveal-duration) var(--rs-reveal-ease) !important;
}
.rs-reveal.is-visible[data-reveal="wipe"] {
  -webkit-mask-size: 100% 100% !important;
          mask-size: 100% 100% !important;
  opacity: 1 !important;
  transform: translateY(0) !important;
}

/* Char（文字ごと）: 下→上方向に統一 */
.rs-reveal[data-reveal="char"] .rs-char {
  display: inline-block !important;
  opacity: 0 !important;
  transform: translateY(var(--rs-reveal-shift-y)) !important;
  transition: 
    transform var(--rs-reveal-duration) var(--rs-reveal-ease),
    opacity var(--rs-reveal-duration) var(--rs-reveal-ease) !important;
}
.rs-reveal.is-visible[data-reveal="char"] .rs-char {
  opacity: 1 !important;
  transform: translateY(0) !important;
}
.rs-reveal[data-reveal="char"] .rs-char {
  transition-delay: calc(var(--i) * var(--rs-reveal-delay)) !important;
}

/* Line（行ごと）: 下→上方向に統一 */
.rs-reveal[data-reveal="line"] > .rs-line {
  display: block !important;
  opacity: 0 !important;
  transform: translateY(var(--rs-reveal-shift-y)) !important;
  transition: 
    transform var(--rs-reveal-duration) var(--rs-reveal-ease),
    opacity var(--rs-reveal-duration) var(--rs-reveal-ease) !important;
}
.rs-reveal.is-visible[data-reveal="line"] > .rs-line {
  opacity: 1 !important;
  transform: translateY(0) !important;
}
.rs-reveal.is-visible[data-reveal="line"] > .rs-line {
  transition-delay: calc(var(--i) * var(--rs-reveal-delay)) !important;
}

/* reduced motion 対応（アニメ無効化） */
@media (prefers-reduced-motion: reduce) {
  .rs-reveal, .rs-reveal * {
    transition: none !important;
    animation: none !important;
  }
  .rs-reveal,
  .rs-reveal .rs-line,
  .rs-reveal .rs-char {
    opacity: 1 !important;
    transform: translateY(0) !important;
    -webkit-mask-size: 100% 100% !important;
            mask-size: 100% 100% !important;
  }
}

/* --- 強制可視: about / brands 内の reveal を全解除 --- */
#about .rs-reveal[data-reveal],
#brands .rs-reveal[data-reveal] {
  opacity: 1 !important;
  transform: none !important;
  -webkit-mask-size: 100% 100% !important;
          mask-size: 100% 100% !important;
  transition: none !important; /* 一旦アニメも停止 */
}

/* 過度な表示強制削除 - 必要な場合のみ個別対応 */

/* z-index/重なり対策（header等が覆っている場合の保険） */
#about, #brands { 
  position: relative; 
  z-index: 0; 
} 
