/* ========================================
   Site Fixes - Brands & About Sections
   ======================================== */

:root {
  --header-h: 64px;
  --section-gap: clamp(250px, 25vw, 500px);  /* flowing-imagesとBrandsの間隔をさらに拡大（5cm追加） */
  --section-padding: clamp(60px, 8vw, 120px); /* セクション内の余白も維持 */
  --brands-about-gap: clamp(130px, 15vw, 260px); /* BrandsとAboutの間隔をさらに拡大（5cm追加） */
}

/* 0) リセット（前の演出や競合を抑える保険） */
#brands, #about { 
  position: relative; 
  z-index: 0; 
}
#brands .rs-reveal, #about .rs-reveal { 
  opacity: 1 !important; 
  transform: none !important; 
}

/* ▼ flowing-images：親の高さ0/重なりの主因を排除 */
.section-flowing {
  display: flow-root;       /* 内部がabsolute/floatでも親高を作る */
  position: relative;
  z-index: 0;               /* 後続（brands/about）が上に来れるように */
  margin-top: calc(var(--header-h) + 12px);
  padding-bottom: var(--section-padding);  /* 後続との距離を大幅に確保 */
  min-height: 280px;        /* 念のための下限高さ */
  /* 重なりを防ぐための設定 */
  overflow: hidden;
  clear: both;
  /* セクション終了後の間隔を大幅に確保 */
  margin-bottom: var(--section-gap);
  /* 背景色を透明に */
  background: transparent;
}

/* ▼ Brands：再表示＆正方形グリッド */
.section-brands {
  position: relative;
  z-index: 10;              /* flowing-imagesより確実に上に表示 */
  margin-top: var(--section-gap);  /* 上部との間隔を大幅に確保 */
  padding: var(--section-padding) 0;  /* 内部の余白も拡大 */
  /* 重なりを防ぐための設定 */
  background: transparent;  /* 背景色を透明に */
  clear: both;
  /* セクション終了後の間隔を調整 */
  margin-bottom: var(--brands-about-gap);
  /* 半透明な横線を削除 */
  /* border-top: 1px solid rgba(0,0,0,0.05); */
  /* border-bottom: 1px solid rgba(0,0,0,0.05); */
}
.section-brands .section-title {
  text-align: center;
  font-size: clamp(24px, 3.2vw, 36px);  /* タイトル下の余白を拡大 */
  margin: 0 0 clamp(32px, 4vw, 48px);  /* タイトル下の余白を拡大 */
  color: #333;
  font-weight: 700;
}

/* スマートフォン版でBrandsのフォントサイズを大きく */
@media (max-width: 767px) {
  .section-brands .section-title {
    font-size: clamp(32px, 4.5vw, 48px) !important;  /* スマホでは1-2cmほど大きく */
    margin: 0 0 clamp(40px, 5vw, 60px) !important;  /* 余白も調整 */
  }
}

/* 既存のCSSとの競合を排除するための強力なセレクタ */
#brands .brands-grid,
.section-brands .brands-grid,
.brands-grid {
  --gap: clamp(20px, 2.5vw, 32px);  /* グリッド間の余白を調整 */
  display: grid !important;                      /* 旧レイアウトを上書き */
  grid-template-columns: repeat(5, minmax(0, 1fr)) !important;  /* ← 5列固定（PC） */
  gap: var(--gap) !important;
  max-width: 1200px;
  margin: 0 auto !important;                               /* 水平中央揃えを強制 */
  padding: 0 clamp(20px, 5vw, 40px) !important;           /* 左右の余白も調整 */
  /* グリッド表示を強制するための追加設定 */
  grid-auto-rows: 1fr !important;
  grid-auto-flow: row !important;
  /* 完全な中央揃えのための設定 */
  justify-items: center !important;             /* グリッドアイテムを中央揃え */
  align-items: center !important;               /* 垂直方向も中央揃え */
  /* グリッド全体の中央配置を確実にする */
  place-items: center !important;               /* 両方向の中央揃え */
  /* グリッド全体の中央配置を強制 */
  justify-content: center !important;           /* グリッド全体を中央揃え */
  align-content: center !important;             /* グリッド全体を垂直中央揃え */
}

/* ブランドカードを正方形に近い形で表示 */
#brands .brand-card,
.section-brands .brand-card,
.brand-card {
  background: #fff;         /* カード背景は白 */
  border-radius: 12px;      /* 角丸 */
  box-shadow: 0 2px 8px rgba(0,0,0,0.08); /* 軽微な影 */
  display: flex !important;
  align-items: center !important;      /* 垂直中央揃え */
  justify-content: center !important;  /* 水平中央揃え */
  padding: clamp(28px, 4vw, 44px);    /* 内側の余白をさらに拡大 */
  /* 正方形を強制 */
  aspect-ratio: 1 / 1 !important;     /* 正方形を強制 */
  width: clamp(150px, 20vw, 240px) !important;   /* 固定幅をさらに拡大して正方形を保証（2cm追加） */
  height: clamp(150px, 20vw, 240px) !important;  /* 固定高さをさらに拡大して正方形を保証（2cm追加） */
  overflow: hidden;
  /* グリッド配置を確実に */
  grid-column: span 1 !important;
  grid-row: span 1 !important;
  /* 完全な中央揃えのための設定 */
  position: relative !important;       /* 位置を相対に */
  /* ホバー効果 */
  transition: transform 0.2s ease, box-shadow 0.2s ease;
  /* カード自体の中央配置を強制 */
  margin: 0 auto !important;          /* カードを中央配置 */
}

#brands .brand-card:hover,
.section-brands .brand-card:hover,
.brand-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 16px rgba(0,0,0,0.12);
}

#brands .brand-card img,
.section-brands .brand-card img,
.brand-card img {
  max-width: 70% !important;          /* 画像サイズを小さくして空白を美しく */
  max-height: 70% !important;         /* 画像サイズを小さくして空白を美しく */
  width: auto !important;             /* 幅を自動調整 */
  height: auto !important;            /* 高さを自動調整 */
  object-fit: contain !important;     /* アスペクト比を保持 */
  display: block !important;
  /* 完全な中心中央揃えのための設定 */
  position: absolute !important;      /* 絶対位置で中央揃え */
  top: 50% !important;               /* 上から50% */
  left: 50% !important;              /* 左から50% */
  transform: translate(-50%, -50%) !important; /* 完全な中心中央揃え */
  /* 画像の品質を保つ */
  image-rendering: -webkit-optimize-contrast !important;
  image-rendering: crisp-edges !important;
}

/* レスポンシブ：PCは5列、タブレットは4列、SPは2列 */
@media (max-width: 1199px) {
  #brands .brands-grid, 
  .section-brands .brands-grid,
  .brands-grid { 
    grid-template-columns: repeat(4, 1fr) !important; 
  }
}

@media (max-width: 991px) {
  #brands .brands-grid, 
  .section-brands .brands-grid,
  .brands-grid { 
    grid-template-columns: repeat(3, 1fr) !important; 
  }
}

@media (max-width: 767px) {
  #brands .brands-grid, 
  .section-brands .brands-grid,
  .brands-grid { 
    grid-template-columns: repeat(2, 1fr) !important; 
  }
  
  /* スマホではカードのサイズと余白を拡大 */
  #brands .brand-card,
  .section-brands .brand-card,
  .brand-card {
    width: clamp(180px, 24vw, 260px) !important;   /* スマホではさらに大きく（2cm追加） */
    height: clamp(180px, 24vw, 260px) !important;  /* スマホではさらに大きく（2cm追加） */
    padding: clamp(36px, 5vw, 48px);                /* 内側の余白も拡大 */
  }
  
  /* スマホではロゴマークも小さくして空白を美しく */
  #brands .brand-card img,
  .section-brands .brand-card img,
  .brand-card img {
    max-width: 65% !important;          /* スマホでは65%サイズで空白を美しく */
    max-height: 65% !important;         /* スマホでは65%サイズで空白を美しく */
  }
}

@media (max-width: 479px) {
  #brands .brands-grid, 
  .section-brands .brands-grid,
  .brands-grid { 
    grid-template-columns: repeat(2, 1fr) !important; 
    gap: clamp(12px, 2vw, 20px) !important;
  }
  
  /* さらに小さい画面ではカードサイズを調整 */
  #brands .brand-card,
  .section-brands .brand-card,
  .brand-card {
    width: clamp(140px, 20vw, 200px) !important;   /* 小さい画面でも適切なサイズ */
    height: clamp(140px, 20vw, 200px) !important;  /* 小さい画面でも適切なサイズ */
    padding: clamp(28px, 4vw, 36px);
  }
  
  /* 小さい画面でもロゴマークは小さくして空白を美しく */
  #brands .brand-card img,
  .section-brands .brand-card img,
  .brand-card img {
    max-width: 60% !important;          /* 小さい画面では60%サイズ */
    max-height: 60% !important;         /* 小さい画面では60%サイズ */
  }
}

/* ▼ About：中央揃え + 適切な幅 */
.section-about {
  position: relative;
  z-index: 10;              /* 他のセクションより確実に上に表示 */
  margin-top: var(--brands-about-gap);  /* 上部との間隔を調整 */
  padding: var(--section-padding) 0;  /* 内部の余白も確保 */
  /* 重なりを防ぐための設定 */
  background: transparent;  /* 背景色を透明に */
  clear: both;
  /* 半透明な横線を削除 */
  /* border-top: 1px solid rgba(0,0,0,0.05); */
}

.about-inner {
  max-width: min(880px, 92vw);
  margin: 0 auto;
  text-align: center !important;  /* 中央揃えを強制 */
  background: #fff;
  border-radius: 12px;
  box-shadow: 0 2px 10px rgba(0,0,0,.06);
  padding: clamp(16px, 3vw, 28px) clamp(16px, 4vw, 40px);
}

.about-title {
  font-size: clamp(20px, 2.8vw, 32px);
  font-weight: 700;
  color: #333;
  margin: 0 0 clamp(24px, 3vw, 36px);  /* タイトル下の余白を拡大 */
  line-height: 1.4;
  text-align: center !important;  /* タイトルも中央揃え */
}

.about-text {
  font-size: clamp(14px, 1.8vw, 18px);
  line-height: 1.8;
  color: #555;
  margin: 0 0 clamp(16px, 2vw, 24px);  /* 段落間の余白を追加 */
  text-align: center !important;  /* テキストも中央揃え */
}
.about-text b {
  color: #333;
  font-weight: 600;
}
.about-text .internal-link {
  color: #0066cc;
  text-decoration: none;
  border-bottom: 1px solid transparent;
  transition: border-color 0.2s ease;
}
.about-text .internal-link:hover {
  border-bottom-color: #0066cc;
}

/* ▼ PC/スマホの排他表示（同時表示を防止） */
.only-pc { 
  display: block !important; 
}
.only-sp { 
  display: none  !important; 
}

@media (max-width: 767px) {
  .only-pc { 
    display: none  !important; 
  }
  .only-sp { 
    display: block !important; 
  }
}

/* 重複表示を完全に防ぐための追加設定 */
.about-inner.only-pc.only-sp {
  display: none !important; /* 両方のクラスが付いている場合は非表示 */
}

/* 特定のセクション内でのみ適用 */
#about .about-inner.only-pc,
.section-about .about-inner.only-pc {
  display: block !important;
}

#about .about-inner.only-sp,
.section-about .about-inner.only-sp {
  display: none !important;
}

@media (max-width: 767px) {
  #about .about-inner.only-pc,
  .section-about .about-inner.only-pc {
    display: none !important;
  }
  
  #about .about-inner.only-sp,
  .section-about .about-inner.only-sp {
    display: block !important;
  }
}

/* 保険：過去の演出や非表示指定で隠れないよう軽くリセット */
#brands .rs-reveal, #about .rs-reveal { 
  opacity: 1 !important; 
  transform: none !important; 
}
#brands, #about { 
  visibility: visible !important; 
}

/* 既存のCSSとの競合を完全に排除するための強力なリセット */
#brands,
.section-brands {
  display: block !important;
  visibility: visible !important;
  opacity: 1 !important;
  position: relative !important;
  z-index: 10 !important;
}

#about,
.section-about {
  display: block !important;
  visibility: visible !important;
  opacity: 1 !important;
  position: relative !important;
  z-index: 10 !important;
}

/* グリッド表示を確実にするための最終的な強制設定 */
#brands .brands-grid,
.section-brands .brands-grid {
  display: grid !important;
  grid-template-columns: repeat(5, 1fr) !important;
  grid-template-rows: repeat(2, auto) !important;
  gap: clamp(10px, 1.6vw, 16px) !important;
  width: 100% !important;
  max-width: 1200px !important;
  margin: 0 auto !important;
  padding: 0 clamp(12px, 3vw, 24px) !important;
}

/* レスポンシブ対応の最終確認 */
@media (max-width: 1199px) { 
  #brands .brands-grid,
  .section-brands .brands-grid { 
    grid-template-columns: repeat(4, 1fr) !important; 
  } 
}
@media (max-width: 991px) {  
  #brands .brands-grid,
  .section-brands .brands-grid { 
    grid-template-columns: repeat(3, 1fr) !important; 
  } 
}
@media (max-width: 767px) {  
  #brands .brands-grid,
  .section-brands .brands-grid { 
    grid-template-columns: repeat(2, 1fr) !important; 
  } 
} 

/* 重複した設定を削除 - 上記の強力な設定に統合済み */

/* 重複表示を確実に解消するための最終的な強制設定 */
#flowing-images,
.section-flowing,
body #flowing-images,
body .section-flowing {
  position: relative !important;
  z-index: 1 !important;
  margin-bottom: clamp(250px, 25vw, 500px) !important;  /* flowing-imagesとBrandsの間隔をさらに拡大（5cm追加） */
  padding-bottom: clamp(60px, 8vw, 120px) !important;   /* 余白も維持 */
  /* 重なりを防ぐための追加設定 */
  isolation: isolate !important;
  contain: layout !important;
  /* 背景色を透明に */
  background: transparent !important;
}

#brands,
.section-brands,
body #brands,
body .section-brands {
  position: relative !important;
  z-index: 2 !important;
  margin-top: clamp(250px, 25vw, 500px) !important;    /* flowing-imagesとBrandsの間隔をさらに拡大（5cm追加） */
  margin-bottom: clamp(130px, 15vw, 260px) !important; /* BrandsとAboutの間隔をさらに拡大（5cm追加） */
  padding: clamp(60px, 8vw, 120px) 0 !important;      /* 余白も維持 */
  /* 重なりを防ぐための追加設定 */
  isolation: isolate !important;
  contain: layout !important;
  /* 背景色を透明に */
  background: transparent !important;
}

/* PC版でBrandsセクションを下に移動 */
@media (min-width: 768px) {
  #brands,
  .section-brands,
  body #brands,
  body .section-brands {
    margin-top: calc(clamp(250px, 25vw, 500px) + 100px) !important;  /* PC版でさらに下に移動 */
  }
}

#about,
.section-about,
body #about,
body .section-about {
  position: relative !important;
  z-index: 2 !important;
  margin-top: clamp(130px, 15vw, 260px) !important;     /* BrandsとAboutの間隔をさらに拡大（5cm追加） */
  padding: clamp(60px, 8vw, 120px) 0 !important;      /* 余白も維持 */
  /* 重なりを防ぐための追加設定 */
  isolation: isolate !important;
  contain: layout !important;
  /* 背景色を透明に */
  background: transparent !important;
}

/* セクション間の視覚的分離を調整 */
/* 半透明のオブジェクトを削除してディスプレイの邪魔をしないようにする */

/* BrandsとReStandardについての間の透明なオブジェクトを削除 */

/* about::before,
.section-about::before {
  content: '';
  display: block;
  height: clamp(40px, 5vw, 80px);
  background: linear-gradient(to bottom, rgba(0,0,0,0.03), transparent);
} */ 

/* 重複した設定を削除 - 上記の強力な設定に統合済み */ 

/* 強制設定による中心揃えの保証 */
#about .about-inner,
.section-about .about-inner,
body #about .about-inner,
body .section-about .about-inner {
  text-align: center !important;
}

#about .about-title,
.section-about .about-title,
body #about .about-title,
body .section-about .about-title {
  text-align: center !important;
}

#about .about-text,
.section-about .about-text,
body #about .about-text,
body .section-about .about-text {
  text-align: center !important;
} 

/* 最終的な強制設定 - 確実に反映されるように */
html body #flowing-images,
html body .section-flowing {
  margin-bottom: clamp(250px, 25vw, 500px) !important;
  padding-bottom: clamp(60px, 8vw, 120px) !important;
}

html body #brands,
html body .section-brands {
  margin-top: clamp(250px, 25vw, 500px) !important;
  margin-bottom: clamp(130px, 15vw, 260px) !important;
  padding: clamp(60px, 8vw, 120px) 0 !important;
}

/* PC版でBrandsセクションを下に移動 - 最終保証 */
@media (min-width: 768px) {
  html body #brands,
  html body .section-brands {
    margin-top: calc(clamp(250px, 25vw, 500px) + 100px) !important;
  }
}

html body #about,
html body .section-about {
  margin-top: clamp(130px, 15vw, 260px) !important;
  padding: clamp(60px, 8vw, 120px) 0 !important;
} 

/* flowing imagesのリンクスタイル - 既存スタイルとの競合を解決 */
#flowing-images .flow-track a,
.section-flowing .flow-track a {
  display: inline-block;
  text-decoration: none;
  transition: transform 0.2s ease, opacity 0.2s ease;
  /* リンクのサイズを画像に合わせる */
  width: auto;
  height: auto;
  /* 既存の画像スタイルを継承 */
  vertical-align: top;
}

#flowing-images .flow-track a:hover,
.section-flowing .flow-track a:hover {
  transform: scale(1.05);
  opacity: 0.9;
}

/* 画像表示の最終保証 - 既存スタイルとの競合を完全解決 */
#flowing-images .flow-track a img,
.section-flowing .flow-track a img {
  display: block !important;
  visibility: visible !important;
  opacity: 1 !important;
  /* 画像の元のサイズを維持 */
  width: auto !important;
  height: auto !important;
  max-width: none !important;
  max-height: 250px !important;
  /* 既存の画像スタイルを継承 */
  object-fit: cover !important;
  /* 画像の表示を強制 */
  position: relative !important;
  z-index: 1 !important;
}

/* リンク要素の表示最終保証 */
#flowing-images .flow-track a,
.section-flowing .flow-track a {
  display: inline-block !important;
  visibility: visible !important;
  opacity: 1 !important;
  text-decoration: none !important;
  /* リンクのサイズを画像に合わせる */
  width: auto !important;
  height: auto !important;
  /* 既存の画像スタイルを継承 */
  vertical-align: top !important;
  /* リンクの表示を強制 */
  position: relative !important;
  z-index: 1 !important;
}

/* ホバー効果の最終保証 */
#flowing-images .flow-track a:hover img,
.section-flowing .flow-track a:hover img {
  filter: brightness(1.1) !important;
  transform: scale(1.05) !important;
  opacity: 0.9 !important;
} 

/* デバッグ用：画像が表示されない場合の強制表示 */
#flowing-images .flow-track a img[src*="1.JPG"],
#flowing-images .flow-track a img[src*="25.JPG"],
.section-flowing .flow-track a img[src*="1.JPG"],
.section-flowing .flow-track a img[src*="25.JPG"] {
  display: block !important;
  visibility: visible !important;
  opacity: 1 !important;
  width: auto !important;
  height: auto !important;
  max-height: 250px !important;
  position: relative !important;
  z-index: 999 !important;
  background: rgba(255, 0, 0, 0.1) !important; /* デバッグ用の背景色 */
}

/* リンク要素のデバッグ表示 */
#flowing-images .flow-track a[href*="68a3416c225fded5de0dfb82"],
#flowing-images .flow-track a[href*="68a346549b5b820cfb8b08f5"],
.section-flowing .flow-track a[href*="68a3416c225fded5de0dfb82"],
.section-flowing .flow-track a[href*="68a346549b5b820cfb8b08f5"] {
  display: inline-block !important;
  visibility: visible !important;
  opacity: 1 !important;
  position: relative !important;
  z-index: 999 !important;
  background: rgba(0, 255, 0, 0.1) !important; /* デバッグ用の背景色 */
} 
